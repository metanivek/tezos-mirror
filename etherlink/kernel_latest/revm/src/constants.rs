// SPDX-FileCopyrightText: 2025 Nomadic Labs <contact@nomadic-labs.com>
//
// SPDX-License-Identifier: MIT

use revm::primitives::{Address, FixedBytes};

// Snippet used to generate `WITHDRAWAL_SOL_CONTRACT` (use in test_withdrawal_contract):
// let created_account = world_state_handler
//     .get_or_create(&host, &account_path(&addr.unwrap()).unwrap())
//     .unwrap();
// let code = created_account.code(&host).unwrap();
// println!("STORED = {:?}", code.clone());

pub(crate) const WITHDRAWAL_SOL_CONTRACT: &str = "0x60806040526004361015610013575b61037d565b61001d5f3561004c565b806320d786b51461004757806367a32cd7146100425763cda4fee20361000e57610354565b6102f5565b6100cf565b60e01c90565b60405190565b5f80fd5b5f80fd5b5f91031261006a57565b61005c565b1c90565b90565b61008690600861008b930261006f565b610073565b90565b906100999154610076565b90565b6100a75f5f9061008e565b90565b90565b6100b6906100aa565b9052565b91906100cd905f602085019401906100ad565b565b346100ff576100df366004610060565b6100fb6100ea61009c565b6100f2610052565b918291826100ba565b0390f35b610058565b5f80fd5b5f80fd5b5f80fd5b601f801991011690565b634e487b7160e01b5f52604160045260245ffd5b9061013890610110565b810190811067ffffffffffffffff82111761015257604052565b61011a565b9061016a610163610052565b928361012e565b565b67ffffffffffffffff811161018a57610186602091610110565b0190565b61011a565b90825f939282370152565b909291926101af6101aa8261016c565b610157565b938185526020850190828401116101cb576101c99261018f565b565b61010c565b9080601f830112156101ee578160206101eb9335910161019a565b90565b610108565b67ffffffffffffffff81116102115761020d602091610110565b0190565b61011a565b9092919261022b610226826101f3565b610157565b93818552602085019082840111610247576102459261018f565b565b61010c565b9080601f8301121561026a5781602061026793359101610216565b90565b610108565b916060838303126102eb575f83013567ffffffffffffffff81116102e657826102999185016101d0565b92602081013567ffffffffffffffff81116102e157836102ba9183016101d0565b92604082013567ffffffffffffffff81116102dc576102d9920161024c565b90565b610104565b610104565b610104565b61005c565b5f0190565b61030961030336600461026f565b916107a8565b610311610052565b8061031b816102f0565b0390f35b9060208282031261034f575f82013567ffffffffffffffff811161034a5761034792016101d0565b90565b610104565b61005c565b61036761036236600461031f565b610923565b61036f610052565b80610379816102f0565b0390f35b5f80fd5b5f1c90565b61039261039791610381565b610073565b90565b6103a49054610386565b90565b5190565b60209181520190565b90825f9392825e0152565b6103de6103e76020936103ec936103d5816103a7565b938480936103ab565b958691016103b4565b610110565b0190565b5190565b60209181520190565b61041c61042560209361042a93610413816103f0565b938480936103f4565b958691016103b4565b610110565b0190565b906104736104859597969461046560809561045761047e9560a08801908882035f8a01526103bf565b9086820360208801526103bf565b9084820360408601526103fd565b9660608301906100ad565b01906100ad565b565b90610499610494836101f3565b610157565b918252565b606090565b3d5f146104be576104b33d610487565b903d5f602084013e5b565b6104c661049e565b906104bc565b5f7f43616c6c20746f20746865206f7574626f782073656e646572206661696c6564910152565b6104ff602080926103ab565b610508816104cc565b0190565b6105219060208101905f8183039101526104f3565b90565b1561052b57565b610533610052565b62461bcd60e51b8152806105496004820161050c565b0390fd5b90565b60018060a01b031690565b90565b61057261056d6105779261054d565b61055b565b610550565b90565b6105839061055e565b90565b905090565b6105965f8092610586565b0190565b6105a39061058b565b90565b5f7f4661696c656420746f206275726e000000000000000000000000000000000000910152565b6105da600e6020926103ab565b6105e3816105a6565b0190565b6105fc9060208101905f8183039101526105cd565b90565b1561060657565b61060e610052565b62461bcd60e51b815280610624600482016105e7565b0390fd5b60200190565b69ffffffffffffffffffff191690565b610648905161062e565b90565b1b90565b61066961066461065e836103f0565b92610628565b61063e565b9060168110610677575b5090565b6106939069ffffffffffffffffffff199060160360080261064b565b165f610673565b6106a39061062e565b9052565b6106b090610550565b90565b6106bc906106a7565b9052565b9695939461070761071c966106fd60a0966106f36107149760208e6106ec60c082019a5f83019061069a565b01906100ad565b60408c01906100ad565b60608a01906100ad565b87820360808901526103fd565b9401906106b3565b565b634e487b7160e01b5f52601160045260245ffd5b61073b906100aa565b5f1981146107495760010190565b61071e565b5f1b90565b9061075f5f199161074e565b9181191691161790565b61077d610778610782926100aa565b61055b565b6100aa565b90565b90565b9061079d6107986107a492610769565b610785565b8254610753565b9055565b5f8061085b92600360ff60981b019061080734966107f86107c889610c10565b9391938a906107d68861039a565b916107df610052565b968795600460208801631be3287960e31b81520161042e565b6020820181038252038261012e565b82602082019151925af161082261081c6104a3565b91610524565b6108565f806108308161057a565b86610839610052565b90816108448161059a565b03925af16108506104a3565b506105ff565b61064f565b6108a06108675f61039a565b9293429033917f62e8e01e31b83084b97c32b1b11ad5a2042382f5f65ee4106ad4a0d0f8b9942c96610897610052565b968796876106c0565b0390a16108bd6108b76108b25f61039a565b610732565b5f610788565b565b929160206108db6108e39360408701908782035f8901526103bf565b9401906100ad565b565b61091a61092194610910606094989795610906608086019a5f8701906100ad565b60208501906106b3565b604083019061069a565b01906100ad565b565b5f80600360ff60981b01349361096f61093b86610c10565b91610960610947610052565b938492600460208501631ef3b63960e21b8152016108bf565b6020820181038252038261012e565b82602082019151925af19061098b6109856104a3565b92610524565b6109bf5f806109998161057a565b846109a2610052565b90816109ad8161059a565b03925af16109b96104a3565b506105ff565b906109ca339161064f565b91610a0a6109d75f61039a565b7f2d5ad793181f5b6bd727c0c216461e019ecfe466353fdde9ccf813f45b84fa8294610a01610052565b948594856108e5565b0390a1610a27610a21610a1c5f61039a565b610732565b5f610788565b565b5f90565b90565b610a44610a3f610a4992610a2d565b61055b565b6100aa565b90565b634e487b7160e01b5f52601260045260245ffd5b610a6c610a72916100aa565b916100aa565b908115610a7d570490565b610a4c565b610a8e610a94916100aa565b916100aa565b908115610a9f570690565b610a4c565b610ab8610ab3610abd9261054d565b61055b565b6100aa565b90565b5f7f416d6f756e74206973207a65726f000000000000000000000000000000000000910152565b610af4600e6020926103ab565b610afd81610ac0565b0190565b610b169060208101905f818303910152610ae7565b90565b15610b2057565b610b28610052565b62461bcd60e51b815280610b3e60048201610b01565b0390fd5b60407f657a290000000000000000000000000000000000000000000000000000000000917f526f756e64696e6720776f756c64206c6f7365207765692c20616d6f756e74205f8201527f6d757374206265206d756c7469706c65206f662031305e3132202831206d757460208201520152565b610bc260436060926103ab565b610bcb81610b42565b0190565b610be49060208101905f818303910152610bb5565b90565b15610bee57565b610bf6610052565b62461bcd60e51b815280610c0c60048201610bcf565b0390fd5b610c18610a29565b50610c74610c2a64e8d4a51000610a30565b91610c5c610c43610c3c838690610a60565b9483610a82565b91610c56610c505f610aa4565b916100aa565b11610b19565b610c6e610c685f610aa4565b916100aa565b14610be7565b9056fea2646970667358221220b26e324be1a2c67a6322423890fa4c5e87e299021f0e3d1c85c8c00e5c0e42b964736f6c634300081d003300";

pub(crate) const FA_WITHDRAWAL_SOL_CONTRACT: &str = "0x60806040526004361015610013575b610510565b61001d5f3561005c565b806320d786b514610057578063379607f51461005257806380fc1fe31461004d5763fff7ca5f0361000e576104e0565b610366565b61015e565b6100df565b60e01c90565b60405190565b5f80fd5b5f80fd5b5f91031261007a57565b61006c565b1c90565b90565b61009690600861009b930261007f565b610083565b90565b906100a99154610086565b90565b6100b75f5f9061009e565b90565b90565b6100c6906100ba565b9052565b91906100dd905f602085019401906100bd565b565b3461010f576100ef366004610070565b61010b6100fa6100ac565b610102610062565b918291826100ca565b0390f35b610068565b5f80fd5b610121816100ba565b0361012857565b5f80fd5b9050359061013982610118565b565b9060208282031261015457610151915f0161012c565b90565b61006c565b5f0190565b61017161016c36600461013b565b6109e2565b610179610062565b8061018381610159565b0390f35b60018060a01b031690565b61019b90610187565b90565b6101a781610192565b036101ae57565b5f80fd5b905035906101bf8261019e565b565b5f80fd5b5f80fd5b601f801991011690565b634e487b7160e01b5f52604160045260245ffd5b906101f1906101c9565b810190811067ffffffffffffffff82111761020b57604052565b6101d3565b9061022361021c610062565b92836101e7565b565b67ffffffffffffffff81116102435761023f6020916101c9565b0190565b6101d3565b90825f939282370152565b9092919261026861026382610225565b610210565b938185526020850190828401116102845761028292610248565b565b6101c5565b9080601f830112156102a7578160206102a493359101610253565b90565b6101c1565b69ffffffffffffffffffff191690565b6102c5816102ac565b036102cc57565b5f80fd5b905035906102dd826102bc565b565b91909160a081840312610361576102f8835f83016101b2565b92602082013567ffffffffffffffff811161035c5781610319918401610289565b92610327826040850161012c565b9261033583606083016102d0565b92608082013567ffffffffffffffff8111610357576103549201610289565b90565b610114565b610114565b61006c565b61037d6103743660046102df565b939290926110da565b610385610062565b8061038f81610159565b0390f35b67ffffffffffffffff81116103b1576103ad6020916101c9565b0190565b6101d3565b909291926103cb6103c682610393565b610210565b938185526020850190828401116103e7576103e592610248565b565b6101c5565b9080601f8301121561040a57816020610407933591016103b6565b90565b6101c1565b9060e0828203126104db57610426815f84016101b2565b92602083013567ffffffffffffffff81116104d65782610447918501610289565b92610455836040830161012c565b9261046381606084016102d0565b92608083013567ffffffffffffffff81116104d15782610484918501610289565b9260a081013567ffffffffffffffff81116104cc57836104a59183016103ec565b9260c082013567ffffffffffffffff81116104c7576104c49201610289565b90565b610114565b610114565b610114565b610114565b61006c565b6104fa6104ee36600461040f565b95949094939193611513565b610502610062565b8061050c81610159565b0390f35b5f80fd5b9061052661052183610225565b610210565b918252565b606090565b3d5f1461054b576105403d610514565b903d5f602084013e5b565b61055361052b565b90610549565b60209181520190565b5f7f436f756c64206e6f742066696e64206465706f73697400000000000000000000910152565b6105966016602092610559565b61059f81610562565b0190565b6105b89060208101905f818303910152610589565b90565b156105c257565b6105ca610062565b62461bcd60e51b8152806105e0600482016105a3565b0390fd5b6105ee9051610192565b90565b6105fb90516100ba565b90565b61060790610192565b9052565b60409061063461063b949695939661062a60608401985f8501906105fe565b60208301906100bd565b01906100bd565b565b5190565b60209181520190565b90825f9392825e0152565b61067461067d6020936106829361066b8161063d565b93848093610641565b9586910161064a565b6101c9565b0190565b916106a99261069c60408201935f8301906105fe565b6020818403910152610655565b90565b5f7f53797374656d20666f72776172646572206661696c6564000000000000000000910152565b6106e06017602092610559565b6106e9816106ac565b0190565b6107029060208101905f8183039101526106d3565b90565b1561070c57565b610714610062565b62461bcd60e51b81528061072a600482016106ed565b0390fd5b151590565b61073c8161072e565b0361074357565b5f80fd5b9050519061075482610733565b565b9092919261076b61076682610225565b610210565b93818552602085019082840111610787576107859261064a565b565b6101c5565b9080601f830112156107aa578160206107a793519101610756565b90565b6101c1565b9190916040818403126107ef576107c8835f8301610747565b92602082015167ffffffffffffffff81116107ea576107e7920161078c565b90565b610114565b61006c565b60409061081d610824949695939661081360608401985f8501906100bd565b60208301906105fe565b01906100bd565b565b60407f617320756e7375636365737366756c0000000000000000000000000000000000917f4661696c656420746f2064656372656d656e74207469636b65742062616c616e5f8201527f63653a207469636b65745f62616c616e63655f72656d6f76652063616c6c207760208201520152565b6108a6604f606092610559565b6108af81610826565b0190565b6108c89060208101905f818303910152610899565b90565b156108d257565b6108da610062565b62461bcd60e51b8152806108f0600482016108b3565b0390fd5b90565b61090b610906610910926100ba565b6108f4565b6100ba565b90565b9095949261095e9461094d6109579261094360809661093960a088019c5f8901906105fe565b60208701906105fe565b60408501906100bd565b60608301906100bd565b01906100bd565b565b5f7f436f756c64206e6f742072656d6f7665206465706f7369740000000000000000910152565b6109946018602092610559565b61099d81610960565b0190565b6109b69060208101905f818303910152610987565b90565b156109c057565b6109c8610062565b62461bcd60e51b8152806109de600482016109a1565b0390fd5b5f80610c7592610c4e610c5d8392600460ff60981b0193610b2a8680610a5c8180610a2b610a3a89610a12610062565b928391600460208401630ad83b9d60e11b8152016100ca565b602082018103825203826101e7565b8b9082602082019151925af1610a57610a51610530565b916105bb565b6118a4565b93610a69602086016105e4565b610ab7610a778488016105f1565b91610aa8610a8760608a016105f1565b610a8f610062565b948593600460208601630efe6a8b60e01b81520161060b565b602082018103825203826101e7565b610af9610ac6604088016105e4565b610aea610ad1610062565b9384926004602085016337d6e7b960e11b815201610686565b602082018103825203826101e7565b82602082019151925af1610b14610b0e610530565b91610705565b6020610b1f8261063d565b8183010191016107af565b508614610c7757610b3d604082016105e4565b5b610bac8780610b4f606086016105f1565b610b928591610b83610b62858a016105f1565b610b6a610062565b94859360046020860163f9d70f6960e01b8152016107f4565b602082018103825203826101e7565b899082602082019151925af1610ba6610530565b506108cb565b610bb8606083016105f1565b90610bc5602084016105e4565b90610c2a610bd48a86016105f1565b94610bed60a0610be6608084016105f1565b92016105f1565b90610c187f7ee7a1de9c18ce695c95b8b19fbdf26cce3544e3ca9e08c9f487776783d7599f966108f7565b96610c21610062565b95869586610913565b0390a2610c35610062565b92839160046020840163029b6f6360e31b8152016100ca565b602082018103825203826101e7565b82602082019151925af1610c6f610530565b506109b9565b565b610c83602082016105e4565b610b3e565b90565b610c9f610c9a610ca492610c88565b6108f4565b6100ba565b90565b60207f6400000000000000000000000000000000000000000000000000000000000000917f456d707479207769746864726177616c7320617265206e6f7420616c6c6f77655f8201520152565b610d016021604092610559565b610d0a81610ca7565b0190565b610d239060208101905f818303910152610cf4565b90565b15610d2d57565b610d35610062565b62461bcd60e51b815280610d4b60048201610d0e565b0390fd5b90565b610d5e610d63916102ac565b610d4f565b9052565b905090565b610d91610d8892602092610d7f8161063d565b94858093610d67565b9384910161064a565b0190565b80610da6601692610dad9594610d52565b0190610d6c565b90565b60200190565b5f1c90565b610dc7610dcc91610db6565b6108f7565b90565b5f7f50726f78792063616c6c206661696c6564000000000000000000000000000000910152565b610e036011602092610559565b610e0c81610dcf565b0190565b610e259060208101905f818303910152610df6565b90565b15610e2f57565b610e37610062565b62461bcd60e51b815280610e4d60048201610e10565b0390fd5b610e5a906102ac565b9052565b90610ea2949293610e8b610e80610e959360808601908682035f880152610655565b9560208501906100bd565b6040830190610e51565b6060818403910152610655565b90565b60407f75636365737366756c0000000000000000000000000000000000000000000000917f4661696c656420746f2070726f64756365206d6573736167653a20707573685f5f8201527f66615f7769746864726177616c5f746f5f6f7574626f782063616c6c20756e7360208201520152565b610f256049606092610559565b610f2e81610ea5565b0190565b610f479060208101905f818303910152610f18565b90565b15610f5157565b610f59610062565b62461bcd60e51b815280610f6f60048201610f32565b0390fd5b5f80fd5b90505190610f84826102bc565b565b9190604083820312610fc057610fb990610fa06040610210565b93610fad825f8301610f77565b5f860152602001610f77565b6020830152565b610f73565b90604082820312610fde57610fdb915f01610f86565b90565b61006c565b610fed90516102ac565b90565b610ffc61100191610db6565b610083565b90565b61100e9054610ff0565b90565b91946110596110639298979561104f60a09661104561106a9a61103b60c08a019e5f8b01906105fe565b60208901906105fe565b6040870190610e51565b6060850190610e51565b60808301906100bd565b01906100bd565b565b634e487b7160e01b5f52601160045260245ffd5b611089906100ba565b5f1981146110975760010190565b61106c565b5f1b90565b906110ad5f199161109c565b9181191691161790565b90565b906110cf6110ca6110d6926108f7565b6110b7565b82546110a1565b9055565b9290919360ff60981b6003019160ff60981b60040193865f6110fb90610c8b565b90611105906100ba565b1161110f90610d26565b8183611119610062565b918291602083019161112a92610d95565b60208201810382520361113d90826101e7565b6111468161063d565b9061115090610db0565b2061115a90610dbb565b9485878991611167610062565b9283926020840163d93ad06360e01b815260040192611185936107f4565b60208201810382520361119890826101e7565b906020820191515a925f8094938194f16111b0610530565b506111ba906108cb565b338786916111c6610062565b92839260208401635ae2fb3960e11b8152600401926111e49361060b565b6020820181038252036111f790826101e7565b866020820191515a925f8094938194f161120f610530565b5061121990610e28565b869192611224610062565b9384936020850163e9f58a7760e01b81526004019361124294610e5e565b60208201810382520361125590826101e7565b906020820191515a925f8094938194f161126d610530565b9061127790610f4a565b6112808161063d565b6020820101906020019061129391610fc5565b909133825f016112a290610fe3565b926020016112af90610fe3565b946112b95f611004565b907fab68450c9e546f6062a861eebf8ec5bbd41b4425e26b20199c91227c7f9038ca956112e5906108f7565b966112ee610062565b9586956112fb9587611011565b0390a26113075f611004565b61131090611080565b61131a905f6110ba565b565b5190565b61133f61134860209361134d936113368161131c565b93848093610559565b9586910161064a565b6101c9565b0190565b9796946113a36113c7979360c0966113966113bf9760408e61138f6113846113b19a60e08401908482035f860152610655565b9660208301906100bd565b0190610e51565b8b820360608d0152610655565b9089820360808b0152611320565b9087820360a0890152610655565b9401906100bd565b565b60407f6c20756e7375636365737366756c000000000000000000000000000000000000917f4661696c656420746f2070726f64756365206d6573736167653a20707573685f5f8201527f666173745f66615f7769746864726177616c5f746f5f6f7574626f782063616c60208201520152565b611449604e606092610559565b611452816113c9565b0190565b61146b9060208101905f81830391015261143c565b90565b1561147557565b61147d610062565b62461bcd60e51b81528061149360048201611456565b0390fd5b95939196949290966101008701975f88016114b1916105fe565b602087016114be916105fe565b604086016114cb91610e51565b606085016114d891610e51565b608084016114e5916100bd565b60a083016114f2916100bd565b60c082016114ff916100bd565b8082039060e0015261151091610655565b90565b9491959293909360ff60981b6003019260ff60981b60040195885f61153790610c8b565b90611541906100ba565b1161154b90610d26565b8284611555610062565b918291602083019161156692610d95565b60208201810382520361157990826101e7565b6115828161063d565b9061158c90610db0565b2061159690610dbb565b9687898b916115a3610062565b9283926020840163d93ad06360e01b8152600401926115c1936107f4565b6020820181038252036115d490826101e7565b906020820191515a925f8094938194f16115ec610530565b506115f6906108cb565b33898891611602610062565b92839260208401635ae2fb3960e11b8152600401926116209361060b565b60208201810382520361163390826101e7565b886020820191515a925f8094938194f161164b610530565b5061165590610e28565b908892939086906116655f611004565b9261166e610062565b9687966020880163164faff760e31b81526004019661168c97611351565b60208201810382520361169f90826101e7565b906020820191515a925f8094938194f16116b7610530565b906116c19061146e565b6116ca8161063d565b602082010190602001906116dd91610fc5565b9192339091835f016116ee90610fe3565b936020016116fb90610fe3565b95906117065f611004565b4291927f7e40c982e82bccb5e8bbd29f38bcfa3996f341ef9f51e2a9cffe086ec87a11c797611734906108f7565b9861173d610062565b97889761174a9789611497565b0390a26117565f611004565b61175f90611080565b611769905f6110ba565b565b61177560c0610210565b90565b5f90565b5f90565b61178861176b565b906020808080808087611799611778565b8152016117a461177c565b8152016117af61177c565b8152016117ba611778565b8152016117c5611778565b8152016117d0611778565b81525050565b6117de611780565b90565b905051906117ee82610118565b565b905051906117fd8261019e565b565b919060c0838203126118815761187a9061181960c0610210565b93611826825f83016117e1565b5f86015261183782602083016117f0565b602086015261184982604083016117f0565b604086015261185b82606083016117e1565b606086015261186d82608083016117e1565b608086015260a0016117e1565b60a0830152565b610f73565b9060c08282031261189f5761189c915f016117ff565b90565b61006c565b6118c7906118b06117d6565b5060206118bc8261063d565b818301019101611886565b9056fea2646970667358221220b62e26ac186a71f91712caec38a69d76bbdcb7a2982320936fedce19a1e1a03164736f6c634300081d003300";

pub(crate) const INTERNAL_FORWARDER_SOL_CONTRACT: &str = "0x608060405260043610610021575f3560e01c80636fadcf721461002457610022565b5b005b34801561002f575f5ffd5b5061004a6004803603810190610045919061021f565b610061565b604051610058929190610306565b60405180910390f35b5f606073ff0000000000000000000000000000000000000273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146100e6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100dd906103b4565b60405180910390fd5b8473ffffffffffffffffffffffffffffffffffffffff16848460405161010d92919061040e565b5f604051808303815f865af19150503d805f8114610146576040519150601f19603f3d011682016040523d82523d5f602084013e61014b565b606091505b508092508193505050935093915050565b5f5ffd5b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f61018d82610164565b9050919050565b61019d81610183565b81146101a7575f5ffd5b50565b5f813590506101b881610194565b92915050565b5f5ffd5b5f5ffd5b5f5ffd5b5f5f83601f8401126101df576101de6101be565b5b8235905067ffffffffffffffff8111156101fc576101fb6101c2565b5b602083019150836001820283011115610218576102176101c6565b5b9250929050565b5f5f5f604084860312156102365761023561015c565b5b5f610243868287016101aa565b935050602084013567ffffffffffffffff81111561026457610263610160565b5b610270868287016101ca565b92509250509250925092565b5f8115159050919050565b6102908161027c565b82525050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f6102d882610296565b6102e281856102a0565b93506102f28185602086016102b0565b6102fb816102be565b840191505092915050565b5f6040820190506103195f830185610287565b818103602083015261032b81846102ce565b90509392505050565b5f82825260208201905092915050565b7f496e7465726e616c466f727761726465723a20756e617574686f72697a6564205f8201527f63616c6c65720000000000000000000000000000000000000000000000000000602082015250565b5f61039e602683610334565b91506103a982610344565b604082019050919050565b5f6020820190508181035f8301526103cb81610392565b9050919050565b5f81905092915050565b828183375f83830152505050565b5f6103f583856103d2565b93506104028385846103dc565b82840190509392505050565b5f61041a8284866103ea565b9150819050939250505056fea2646970667358221220f8f1230872fc0e8cc0d5a776a03f70b9e5d62ff7b279ce5b93a70595ef603d1364736f6c634300081d003300";

pub(crate) const WITHDRAWAL_SOL_ADDR: Address = Address(FixedBytes::new([
    0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
]));

pub(crate) const FA_WITHDRAWAL_SOL_ADDR: Address = Address(FixedBytes::new([
    0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x02,
]));

pub(crate) const SEND_OUTBOX_MESSAGE_PRECOMPILE_ADDRESS: Address =
    Address(FixedBytes::new([
        0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03,
    ]));

pub(crate) const TABLE_PRECOMPILE_ADDRESS: Address = Address(FixedBytes::new([
    0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x04,
]));

pub(crate) const CUSTOMS: [Address; 4] = [
    WITHDRAWAL_SOL_ADDR,
    FA_WITHDRAWAL_SOL_ADDR,
    SEND_OUTBOX_MESSAGE_PRECOMPILE_ADDRESS,
    TABLE_PRECOMPILE_ADDRESS,
];

// TODO: Properly estimate execution cost for table and outbox precompiles
pub(crate) const PRECOMPILE_BASE_COST: u64 = 2000;
